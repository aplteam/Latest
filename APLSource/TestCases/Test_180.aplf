 R←Test_180(stopFlag batchFlag);⎕TRAP;tempDir;list
⍝ Test the extensions recognized
 ⎕TRAP←(999 'C' '∘∘∘ ⍝ Deliberate error')(0 'N')

 R←T._Failed

 tempDir←##.FilesAndDirs.GetTempSubDir↑⎕SI
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.apla')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.aplf')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.aplo')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.apln')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.aplc')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.apli')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.charlist')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.charmat')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.charstring')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.dyalog')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.dyapp')'123'
 ##.APLTreeUtils.WriteUtf8File(tempDir,'/foo.txt')'123'
 list←##.Latest.Run tempDir 0 0 0 9999
 →T.GoToTidyUp(≢##.Latest.GetExtensions)≠≢list

 R←T._OK

∆TidyUp:
 ##.FilesAndDirs.RmDir tempDir
⍝Done
