<!DOCTYPE html>
<html lang="en">
<head>
<title>Coverage</title>
<meta charset="utf-8"/>
<style>
@media screen{
    html {background-color: #FFFFF0;}
body {
    font-size: 16px;
    font-family : Verdana, "Bitstream Vera Sans", "DejaVu Sans", Tahoma, Geneva, Arial, Sans-serif;
    margin: 1em;
}
th, td {padding: 5px 10px;}
th {text-align: left;}
h1, h2, h3, h4, h5, h6 {color: #424242;}
h1 {font-size: 22px;}
h2 {font-size: 18px; margin-top: 2em; margin-bottom:0.3em;}
tbody tr:nth-child(even) {background-color: #F0F0F0;}
tbody tr:nth-child(odd) {background-color: #FAFAFA;}
th {background-color: #E6E6E6;color: #424242;}
table {border: silver 1px solid; font-size: 14px;font-family: APLFont, monospace;}
code , code a {font-size: 14px; font-family: APLFont, monospace;}
code.header {
    font-size: 16px; 
    font-family: APLFont, monospace; 
    margin: 1.5em 0.5em 0 0.5em; 
    padding:0;
    display: block;
}
div.code-block {
    border: 1px silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 0.5em 0.5em 0.5em 0.5em;
    padding: 0.5em;
}
div.code-block.missing {
    background-color: #fa605254;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
ul li, ol li {margin: 0.7em 0.2em;}
.float-right {float:right;}
.no-underline {    text-decoration :none;}
.top-links {font-size:20px; padding-left: 0.6em;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5px; padding-top:0; font-size: 9px;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 0.5em; padding: 0.5em;}
}
@media print{@page {size: portrait}
@page {
    margin: 1cm 1cm 1cm 1.75cm;
    @bottom-right {
        content: counter(page) " / " counter(pages);
  }
}
body {
    font: 12pt "Times New Roman", Times, serif;
    line-height: 1.2;
     /* CSS3 filter, at the moment Webkit only. Prefix it for future implementations */
    -webkit-filter: grayscale(100%);
    filter: grayscale(100%); /* future-proof */
}
h1 {font-size: 18pt;}
h2 {font-size: 16pt; margin-top: 10pt; margin-bottom: 3pt;}
th, td {padding: 2pt 3pt;}
th {text-align: left;background-color: #DBDBDB;}
tbody tr:nth-child(odd) {background-color: #EDEDED;}
table {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 8pt;
    font-family: APLFont, monospace;
}
div.keep-together {break-inside: avoid; break-before:auto;}
table {border: silver 1pt solid;}
code , code a {font-size: 8pt; font-family: APLFont, monospace;}
code.header {
    font-size: 8pt;
    font-family: APLFont, monospace;
    margin: 7pt 3pt 0 10pt;
    padding:0;
    display: block;
}
div.code-block {
    border: 1pt silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 4pt 4pt 4pt 4pt;
    padding: 4pt;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
a {text-decoration: none;color: black;}
ul li, ol li {margin: 8pt 3pt;}
.no-print {display:none;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5pt; padding-top:0; font-size: 6pt;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 8px; padding: 8px;}
}
</style>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.js"></script>
</head>
<body>
<h1 id="top">Coverage Report</h1>
<p>Watched: 11 fns/opr within <code>#.Latest.Latest</code></p>
<p>The test suite was executed once:</p>
<table>
<thead>
<tr><th>Executed at</th><th>APLVersion</th><th>Memory (MB)</th></tr>
</thead>
<tbody>
<tr><td>2023-07-07 17:07:21</td><td>Windows-64 ⋄ 18.2.47418.0 ⋄ W ⋄ Development ⋄ Unicode</td><td>52</td></tr>
</tbody>
</table>
<p>Overall 72% of the testable code is covered.</p>
<p>(Comment lines, empty lines, all <code>:End</code>* lines etc. are ignored)</p>
<p>4 of the fns/opr are 100% covered.</p>
<div id="partly-covered" class="keep-together">
<table id="percent">
<thead>
<tr><th style="text-align:left;">Function/Operator</th><th style="text-align:left;">Lines not executed</th><th style="text-align:left;">Coverage</th><th style="text-align:right;">≢</th></tr>
</thead>
<tbody>
<tr class="uncovered"><td><a href="#listing_1" title="Link to listing">#.Latest.Latest.Public</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_2" title="Link to listing">#.Latest.Latest.Reset</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_3" title="Link to listing">#.Latest.Latest.SelectProject</a></td><td>14←≢1-13,16</td><td>0</td><td>14</td></tr>
<tr class="uncovered"><td><a href="#listing_4" title="Link to listing">#.Latest.Latest.Version</a></td><td>2</td><td>0</td><td>1</td></tr>
<tr><td><a href="#listing_5" title="Link to listing">#.Latest.Latest.Run</a></td><td>28←≢24-26,28,38-39,45-47,53-61,81,89,92-93,95,102,112,115,124,139</td><td>71</td><td>98</td></tr>
<tr><td><a href="#listing_6" title="Link to listing">#.Latest.Latest.List</a></td><td>19</td><td>95</td><td>20</td></tr>
<tr><td><a href="#listing_7" title="Link to listing">#.Latest.Latest.QNL34</a></td><td>14</td><td>95</td><td>20</td></tr>
<tr class="fullyCovered"><td><a href="#listing_8" title="Link to listing">#.Latest.Latest.AddSlash</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_9" title="Link to listing">#.Latest.Latest.GetExtensions</a></td><td></td><td>100</td><td>3</td></tr>
<tr class="fullyCovered"><td><a href="#listing_10" title="Link to listing">#.Latest.Latest.IsScripted</a></td><td></td><td>100</td><td>2</td></tr>
<tr class="fullyCovered"><td><a href="#listing_11" title="Link to listing">#.Latest.Latest.List_NS</a></td><td></td><td>100</td><td>5</td></tr>
</tbody>
</table>
</div>
<script>
$(document).ready(function() {
    var oTable;
    oTable = $("#percent").DataTable( {
        paging:   false,
        ordering: true,
        info:     true,
        fixedHeader: true,
        order: [2,"asc"],
        dom: "Bft",
        drawCallback: function( settings ) {
             var api = this.api();
             $('.header[id^="listing_"]').next().addBack().css("display","none");
             api.rows( {page:"current"} ).data().each(function(data){
              id = data[0];
              id = id.match(/"(\#.*?)"/);
              if (id){$(id[1]).next().addBack().css("display","block");}
             })
        },      
        buttons: [
        {
            text: "Partly covered (3)",
            titleAttr: "50%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^(?!(0%|100%)).*";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Uncovered (4)",
            titleAttr: "0%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^0%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Fully covered (4)",
            titleAttr: "100%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "100%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "All (11)",
            titleAttr: "all",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = ".";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
    ],
 
        columnDefs: [
            {className: "align-right", targets: [2,3]
            },
            {
                render: function ( data, type, row, meta ) {
                            return data+"%" ;        
                        },
                targets: 2
            }
        ]             
    } );
    oTable.button(0).trigger();

} );    
</script>
<h2>Listings</h2>
<code class="header" id="listing_1">#.Latest.Latest.Public &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Public</code>
<code class="emphasize">→[1]  r←⍬</code>
</div>
<code class="header" id="listing_2">#.Latest.Latest.Reset &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> Reset</code>
<code class="emphasize">→[1]  TestCases.⎕EX'T'</code>
</div>
<code class="header" id="listing_3">#.Latest.Latest.SelectProject &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  ind←SelectProject projects</code>
<code class="emphasize">→[1]   flag←0</code>
<code class="emphasize">→[2]   ind←¯1</code>
<code class="emphasize">→[3]   :Repeat</code>
<code class="emphasize">→[4]       ⎕←'There is more than one project open:'</code>
<code class="emphasize">→[5]       ⎕←{⊃(⍕¨1+⍳≢⍵),¨'.',¨↓⍵}projects</code>
<code class="emphasize">→[6]       ⎕←'   Which project? (q=quit)'</code>
<code class="emphasize">→[7]       answer←⍞</code>
<code class="emphasize">→[8]       →((answer~' ')∊'qQ')/0</code>
<code class="emphasize">→[9]       ind←↑A.ToNum answer</code>
<code class="emphasize">→[10]      :If 1=≢ind</code>
<code class="emphasize">→[11]          :If ind∊1+⍳≢projects</code>
<code class="emphasize">→[12]              flag←1</code>
<code class="emphasize">→[13]              ind-←1</code>
<code> [14]          :EndIf</code>
<code> [15]      :EndIf</code>
<code class="emphasize">→[16]  :Until flag</code>
<code> [17] ⍝Done</code>
</div>
<code class="header" id="listing_4">#.Latest.Latest.Version &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←Version</code>
<code> [1] ⍝ See also `History`</code>
<code class="emphasize">→[2]  r←'Latest' '6.0.1+144' '2023-07-07'</code>
</div>
<code class="header" id="listing_5">#.Latest.Latest.Run &mdash; 71%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>   r←Run(path_ recursive stats all noOf)</code>
<code> [1]   ⍝ Handles the following cases:</code>
<code> [2]   ⍝ * Investigate the workspace (simple namespace or #)</code>
<code> [3]   ⍝ * Investigate (currently tracked/opened) acre projects</code>
<code> [4]   ⍝ * Investigate (currently tracked/opened) Cider projects</code>
<code> [5]   ⍝ * Investigate a folder</code>
<code> [6]    ⎕IO←0 ⋄ ⎕ML←3</code>
<code> [7]    A←APLTreeUtils2 ⋄ F←FilesAndDirs</code>
<code> [8]    r←''</code>
<code> [9]    pathFlag←hasOpenAcreProjects←hasOpenCiderProjects←0</code>
<code> [10]   path←path_</code>
<code> [11]   isAcreProject←isCiderProject←0</code>
<code> [12]   :If 0=≢path                            ⍝ Only true if we deal with a project</code>
<code> [13]       projects1←projects2←0 2⍴''</code>
<code> [14]       :If 9=⎕SE.⎕NC'acre'</code>
<code> [15]           projects1←⎕SE.acre.Projects ⍬</code>
<code> [16]           hasOpenAcreProjects←0&lt;≢projects1</code>
<code> [17]       :EndIf</code>
<code> [18]       :If 9=⎕SE.⎕NC'Cider'</code>
<code> [19]           {}⎕SE.UCMD'Cider.Version'</code>
<code> [20]           hasOpenCiderProjects←0&lt;≢projects2←⎕SE.Cider.ListOpenProjects 0</code>
<code> [21]       :EndIf</code>
<code> [22]       projects←(projects1,1)⍪(projects2,2)</code>
<code> [23]       :If 0=≢projects</code>
<code class="emphasize">→[24]           path←'expand'F.NormalizePath F.PWD,F.CurrentSep  ⍝ Current dir is the best we can do here</code>
<code class="emphasize">→[25]           :If CommTools.YesOrNo'Are you sure that you want to scan ',path,' ?'</code>
<code class="emphasize">→[26]               pathFlag←1</code>
<code> [27]           :Else</code>
<code class="emphasize">→[28]               :Return</code>
<code> [29]           :EndIf</code>
<code> [30]       :EndIf</code>
<code> [31]   :ElseIf ~(1⍴path)∊'#⎕'                 ⍝ True if it's a folder path</code>
<code> [32]       path←('expand'F.NormalizePath path),F.CurrentSep</code>
<code> [33]       ('Is not a folder: ',path)⎕SIGNAL 6/⍨~F.IsDir path</code>
<code> [34]       pathFlag←1</code>
<code> [35]   :EndIf</code>
<code> [36]   :If 0=≢path</code>
<code> [37]   :AndIf 0=hasOpenAcreProjects+hasOpenCiderProjects</code>
<code class="emphasize">→[38]       path←F.PWD,F.CurrentSep,'APLSource'</code>
<code class="emphasize">→[39]       pathFlag←F.IsDir path</code>
<code> [40]   :EndIf</code>
<code> [41]   :If hasOpenAcreProjects∨hasOpenCiderProjects</code>
<code> [42]       :If 1=≢projects</code>
<code> [43]           name←↑projects</code>
<code> [44]           :If 1=≢projects1</code>
<code class="emphasize">→[45]               path←↑projects1[;1]</code>
<code class="emphasize">→[46]               path←(~all){⍵.AcreConfig.ProjectFolder,⍺/'APLSource/'}⍎name  ⍝ Fixed in acre</code>
<code class="emphasize">→[47]               isAcreProject←1</code>
<code> [48]           :Else</code>
<code> [49]               path←(~all){⍵.HOME,'/',⍺/⍵.CIDER.source}⍎(↑projects2),'.CiderConfig'</code>
<code> [50]               isCiderProject←1</code>
<code> [51]           :EndIf</code>
<code> [52]       :Else</code>
<code class="emphasize">→[53]           ind←SelectProject{⍵[;0 1],('acre project' 'Cider project')[⍵[;2]-1]}projects</code>
<code class="emphasize">→[54]           →(¯1=ind)/0</code>
<code class="emphasize">→[55]           name←↑projects[ind;]</code>
<code class="emphasize">→[56]           isAcreProject←∨/name∘≡¨projects1[;0]</code>
<code class="emphasize">→[57]           isCiderProject←∨/name∘≡¨projects2[;0]</code>
<code class="emphasize">→[58]           :If isCiderProject</code>
<code class="emphasize">→[59]               path←(~all){⍵.HOME,'/',⍺/⍵.CIDER.source}⍎name,'.CiderConfig'</code>
<code class="emphasize">→[60]           :ElseIf isAcreProject</code>
<code class="emphasize">→[61]               path←(~all){⍵.AcreConfig.ProjectFolder,⍺/'APLSource/'}⍎name  ⍝ Fixed in acre</code>
<code> [62]           :EndIf</code>
<code> [63]       :EndIf</code>
<code> [64]       projects1[;1]←F.NormalizePath projects1[;1]</code>
<code> [65]       projects2[;1]←F.NormalizePath projects2[;1]</code>
<code> [66]   :EndIf</code>
<code> [67]   :If isAcreProject∨isCiderProject∨pathFlag</code>
<code> [68]       path←'expand'F.NormalizePath path,F.CurrentSep</code>
<code> [69]       :If F.IsDir path</code>
<code> [70]           r←⍉⊃('recursive'recursive)('type'(0 1 3))F.Dir path</code>
<code> [71]           →(0=≢r)/0</code>
<code> [72]           r←(r[;1]=2)⌿r                 ⍝ Only regular files</code>
<code> [73]           :If all</code>
<code> [74]               r←(~{≢'[/\\]\.git[/\\]'⎕S 0⊣⍵}¨r[;0])⌿r</code>
<code> [75]           :Else</code>
<code> [76]               r←(({2⊃⎕NPARTS ⍵}¨r[;0])∊GetExtensions)⌿r</code>
<code> [77]           :EndIf</code>
<code> [78]           r[;2]←↓A.FormatDateTime⊃r[;2]</code>
<code> [79]           r←r[⍋⊃r[;2];0 2]</code>
<code> [80]           :If stats</code>
<code class="emphasize">→[81]               r←{⍺(≢⍵)}⌸10↑¨r[;1]</code>
<code> [82]           :Else</code>
<code> [83]        ⍝ `noOf` is ...</code>
<code> [84]        ⍝ ⍬ in case no argument was provided</code>
<code> [85]        ⍝ 0 in case text was provided as argument</code>
<code> [86]        ⍝ An integer otherwise.</code>
<code> [87]               :If 0=all</code>
<code> [88]                   :If ⍬≡noOf</code>
<code class="emphasize">→[89]                       r←((10↑¨r[;1])≡¨⊂10↑1⊃r[¯1+≢r;])⌿r  ⍝ All from the day with the latest change</code>
<code> [90]                   :ElseIf 0≢noOf</code>
<code> [91]                       :If ¯1=×noOf</code>
<code class="emphasize">→[92]                           buff←10↑¨r[;1]  ⍝ YYYY-MM-DD</code>
<code class="emphasize">→[93]                           r←(buff∊noOf{(⍺⌊≢⍵)↑⍵}⌽∪⌽buff)⌿r</code>
<code> [94]                       :ElseIf 8=≢⍕noOf ⍝ Is it a date (yyyymmdd)?</code>
<code class="emphasize">→[95]                           r←(noOf={↑↑(//)⎕VFI ⍵}¨↓(⊃r[;1])[;0 1 2 3 5 6 8 9])⌿r</code>
<code> [96]                       :Else</code>
<code> [97]                           r←(-noOf⌊≢r)↑r</code>
<code> [98]                       :EndIf</code>
<code> [99]                   :EndIf</code>
<code> [100]              :EndIf</code>
<code> [101]              :If 0=+/≢¨r[;0]</code>
<code class="emphasize">→[102]                  r←0 2⍴''</code>
<code> [103]              :EndIf</code>
<code> [104]              :If 0&lt;≢r</code>
<code> [105]                  :If pathFlag</code>
<code> [106]                      :If (⊂path_)∊'./' '.\'</code>
<code> [107]                          r[;0]←(1+≢F.PWD)↓¨r[;0]</code>
<code> [108]                      :Else</code>
<code> [109]                          r[;0]←(≢path)↓¨r[;0]</code>
<code> [110]                      :EndIf</code>
<code> [111]                  :ElseIf all</code>
<code class="emphasize">→[112]                      r[;0]←(≢path){∧/~'/\'∊⍵:⍵ ⋄ ⍺↓⍵}¨r[;0]</code>
<code> [113]                  :Else</code>
<code> [114]                      :If ∨/name∘≡¨projects1[;0]</code>
<code class="emphasize">→[115]                          r[;0]←⎕SE.acre.Itemname r[;0]</code>
<code> [116]                      :ElseIf ∨/name∘≡¨projects2[;0]</code>
<code> [117]                          r[;0]←⎕SE.Link.GetItemName¨F.EnforceSlash¨r[;0]</code>
<code> [118]                      :EndIf</code>
<code> [119]                      r←(0&lt;≢¨r[;0])⌿r</code>
<code> [120]                  :EndIf</code>
<code> [121]              :EndIf</code>
<code> [122]          :EndIf</code>
<code> [123]      :Else</code>
<code class="emphasize">→[124]          r←0 0⍴''</code>
<code> [125]      :EndIf</code>
<code> [126]  :ElseIf ((,'#')≡,path)∨(('⎕SE')≡1 ⎕C,path)∨9=⎕NC path</code>
<code> [127]      :If 0=≢noOf</code>
<code> [128]      :AndIf 0=stats</code>
<code> [129]          noOf←¯1</code>
<code> [130]      :EndIf</code>
<code> [131]      :If (,'#')≡,path</code>
<code> [132]          r←List noOf 1</code>
<code> [133]      :Else</code>
<code> [134]          r←path List noOf 1</code>
<code> [135]      :EndIf</code>
<code> [136]      :If stats</code>
<code> [137]          r←{⍺(≢⍵)}⌸10↑¨r[;1]</code>
<code> [138]      :ElseIf 0=recursive</code>
<code class="emphasize">→[139]          r←(~'.'∊¨(1+≢path)↓¨r[;0])⌿r</code>
<code> [140]      :EndIf</code>
<code> [141]  :Else</code>
<code> [142]      r←'Nothing found'</code>
<code> [143]  :EndIf</code>
</div>
<code class="header" id="listing_6">#.Latest.Latest.List &mdash; 95%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←{lookInto}List y</code>
<code> [1]  ⍝ If y is a positiv integer smaller than 10000000 then y objects are returned.</code>
<code> [2]  ⍝ If y is a positiv integer larger than   9999999 then y is treated as a date (YYYYMMDD).</code>
<code> [3]  ⍝ If is a negative integer then all objects changed on the last y days are returned.</code>
<code> [4]  ⍝ If y is an empty vector all objects are returned.</code>
<code> [5]  ⍝ If y is zero an error is thrown.</code>
<code> [6]  ⍝ If y is a two-item vector then the second item must be a Boolean:</code>
<code> [7]  ⍝ 1 = exclude scripted Namespaces (the default)</code>
<code> [8]  ⍝ 0 = include scripted Namespaces</code>
<code> [9]   ⎕IO←1 ⋄ ⎕ML←3</code>
<code> [10]  lookInto←{0=⎕NC ⍵:# ⋄ ⍎⍕⍵}'lookInto'</code>
<code> [11]  (type all)←2↑y,1</code>
<code> [12]  :If (⊂type)∊''⍬</code>
<code> [13]      noOfDays←99999</code>
<code> [14]  :ElseIf 1=×type</code>
<code> [15]      noOfLines←type</code>
<code> [16]  :ElseIf ¯1=×type</code>
<code> [17]      noOfDays←type</code>
<code> [18]  :Else</code>
<code class="emphasize">→[19]      'What?!'⎕SIGNAL 11</code>
<code> [20]  :EndIf</code>
<code> [21]  :If 0≠≢r←(all/'noScripts')QNL34⍕lookInto</code>
<code> [22]      r[;1]←↑¨{⍺,'.',⍵}/¨↓r[;3 1]</code>
<code> [23]      r←r[⍋⊃r[;4];1 4 5]</code>
<code> [24]      :If ~(⊂type)∊''⍬</code>
<code> [25]          :If 1=×type</code>
<code> [26]              :If noOf&gt;9999999</code>
<code> [27]                  r←(noOf={↑↑(//)⎕VFI ⍵[1 2 3 4 6 7 9 10]}¨r[;2])⌿r</code>
<code> [28]              :Else</code>
<code> [29]                  r←(-noOfLines⌊1⊃⍴r)↑[1]r</code>
<code> [30]              :EndIf</code>
<code> [31]          :ElseIf ¯1=×type</code>
<code> [32]              r←({⍵∊(noOfDays⌊⍴,⍵)↑∪⍵}10↑¨r[;2])⌿r</code>
<code> [33]          :EndIf</code>
<code> [34]      :EndIf</code>
<code> [35]  :EndIf</code>
</div>
<code class="header" id="listing_7">#.Latest.Latest.QNL34 &mdash; 95%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  Buff←{noScripts}QNL34 lookInto</code>
<code> [1]  ⍝ Returns all functions &amp; operators found in "lookInto" and its sub-folders.</code>
<code> [2]  ⍝ "noScripts" may be empty (=default) or the string "noScripts".</code>
<code> [3]  ⍝ If it's empty then all fns &amp; oprs are returned no matter where they stem from.</code>
<code> [4]  ⍝ With "noScripts" only those fns &amp; oprs are returned that do NOT stem from scripted namespaces.</code>
<code> [5]   ⎕IO←1 ⋄ ⎕ML←3</code>
<code> [6]   Buff←''</code>
<code> [7]   noScripts←{0=⎕NC ⍵:'' ⋄ ⍎⍵}'noScripts'</code>
<code> [8]   noScripts←⎕C∊noScripts</code>
<code> [9]   msg←'Invalid left argument: must be either an empty vector or the string "noScripts"'</code>
<code> [10]  msg ⎕SIGNAL 11/⍨~(⊂noScripts)∊'' 'noscripts'</code>
<code> [11]  :If 0≠≢list←∪{⍵,List_NS ⍵}⍎lookInto</code>
<code> [12]      :If noScripts≡'noscripts'</code>
<code> [13]      :AndIf 0=≢list←(~IsScripted¨list)/list   ⍝ Exclude all scripts</code>
<code class="emphasize">→[14]          :Return</code>
<code> [15]      :EndIf</code>
<code> [16]      list2←↑,/{(⊂(⍕⍵),'.'),¨⍵.⎕NL-3 4}¨list</code>
<code> [17]      :If 0≠≢list2←(0&lt;⎕NC⊃list2)⌿list2</code>
<code> [18]          Buff←((≢list2),5)⍴⊂''</code>
<code> [19]          a←-+/∧\~'.'=⊃⌽¨list2</code>
<code> [20]          Buff[;1]←list2↑¨⍨a</code>
<code> [21]          Buff[;2]←'   FO'[1+⌊⎕NC⊃list2]</code>
<code> [22]          Buff[;3]←(¯1+a)↓¨list2</code>
<code> [23]          Buff[;4 5]←({0::'' ⋄ 2=⍴⍴⍵:⍵ ⋄ (¯2↑1 1,⍴⍵)⍴⍵}⊃⎕AT¨list2)[;2 4]</code>
<code> [24]          Buff⌿⍨←{0&lt;↑⍴⎕VR ⍵}¨Buff[;3],¨'.',¨Buff[;1]</code>
<code> [25]          Buff[;4]←⊂[2]'ZI4,&lt;-&gt;,ZI2,&lt;-&gt;,ZI2,&lt; &gt;,ZI2,&lt;:&gt;,ZI2,&lt;:&gt;,ZI2'⎕FMT 6↑[2]⊃Buff[;4]</code>
<code> [26]      :EndIf</code>
<code> [27]  :EndIf</code>
</div>
<code class="header" id="listing_8">#.Latest.Latest.AddSlash &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> AddSlash←{(¯1↑⍵)∊'/\':⍵ ⋄ ⍵,'/'}</code>
</div>
<code class="header" id="listing_9">#.Latest.Latest.GetExtensions &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←GetExtensions</code>
<code> [1]  r←'.apla' '.aplf' '.aplo' '.apln' '.aplc' '.apli'      ⍝ Common standard</code>
<code> [2]  r,←'.charlist' '.charmat' '.charstring'                ⍝ acre extensions</code>
<code> [3]  r,←'.dyalog' '.dyapp'                                  ⍝ Now deprecated, but we still need to support them</code>
</div>
<code class="header" id="listing_10">#.Latest.Latest.IsScripted &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> IsScripted←{</code>
<code> [1] ⍝ Returns a 1 for classes, interfaces and scripted namespaces and 0 otherwise.</code>
<code> [2]      11 16::0</code>
<code> [3]      1⊣⎕SRC ⍵</code>
<code> [4]  }</code>
</div>
<code class="header" id="listing_11">#.Latest.Latest.List_NS &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  List_NS←{</code>
<code> [1]       r←⍵{⊃∇/⍺.(⍺{(0,⍵)/⍨0,(⍺≠⍵)∧⍺=⍵.##}⍎⍕'⍺',⌽↓⎕NL 9.1 9.2),⊂⍵,⍺}⍬</code>
<code> [2]       (0=≢r):''</code>
<code> [3]       r/⍨←{0::0 ⋄ 'Namespace'≡⍵.⎕WG'Type':1 ⋄ ⍵.KeepOnClose∧'Form'≡⍵.⎕WG'Type'}¨r</code>
<code> [4]       (0=≢r):''</code>
<code> [5]       r/⍨~'['∊¨⍕¨r</code>
<code> [6]  ⍝ namespace tree</code>
<code> [7]  ⍝ ⍵ ns</code>
<code> [8]  ⍝ ← ns and all nss below</code>
<code> [9]  ⍝   excludes nss whose only ref is outside parent</code>
<code> [10] ⍝   as well as those having a "[" in their name</code>
<code> [11] ⍝ Originally Phil Last ⍝ 2008-04-30 00:30</code>
<code> [12] ⍝ Line 2 added for special purposes by Kai Jaeger</code>
<code> [13]  }</code>
</div>
<div id="footer">
<hr>
<p>Created by "CodeCoverage" version 0.10.2+52 from 2023-04-09</p>
</div>

</body>
</html>
